import*as t from"https://unpkg.com/three@0.127.0/build/three.module.js";import{STLLoader as S}from"https://unpkg.com/three@0.127.0/examples/jsm/loaders/STLLoader.js";const b=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerpolicy&&(i.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?i.credentials="include":e.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(e){if(e.ep)return;e.ep=!0;const i=s(e);fetch(e.href,i)}};b();class L{constructor(o,s){const r=o.querySelector("nav"),e=o.querySelectorAll("li"),i=o.querySelectorAll("section"),c=r.offsetTop,g=r.offsetHeight,u=new Map;i.forEach(l=>{u.set(l.getAttribute("id"),l.offsetTop)}),e.forEach(l=>{l.addEventListener("click",()=>{s.scrollTo(0,u.get(l.getAttribute("datascroll"))-g)})}),s.addEventListener("scroll",()=>{s.pageYOffset>=c?r.classList.add("sticky"):r.classList.remove("sticky")})}}class M{constructor(o,s,r,e,i,c,g){this.elementId=o,this.textToType=s,this.baseString=r,this.originalBaseString=r,this.typingSpeed=e,this.domDocument=c,this.windowElement=g,this.timeoutMethod=null,this.iteration=0,this.iterations_offset=i,this.pause=u=>new Promise(l=>setTimeout(l,u))}async typeWriter(){this.textToType&&(console.log(this.textToType.length),console.log(this.iteration),this.iteration<this.textToType.length&&(this.domDocument.getElementById(this.elementId).innerHTML=this.baseString=this.setCharAt(this.baseString,this.iteration,this.textToType.charAt(this.iteration)),this.iteration++),this.iteration>=this.textToType.length&&this.iteration<this.textToType.length+this.iterations_offset&&this.iteration++,this.iteration>=this.textToType.length+this.iterations_offset&&(await this.pause(10),this.domDocument.getElementById(this.elementId).innerHTML=this.originalBaseString,this.baseString=this.originalBaseString,this.iteration=0),setTimeout(()=>{this.typeWriter()},this.typingSpeed))}setCharAt(o,s,r){return s>o.length-1?o:o.substring(0,s)+r+o.substring(s+1)}}new L(document,window);const a=new t.Scene,d=new t.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),m=new t.WebGLRenderer({canvas:document.querySelector("#bg")});m.setPixelRatio(window.devicePixelRatio);m.setSize(window.innerWidth,window.innerHeight);d.position.setZ(30);d.position.setX(-3);m.render(a,d);const v=new t.TorusGeometry(10,3,16,100),y=new t.MeshStandardMaterial({color:16737095});let f=new t.Mesh(v,y);const B=new S;B.load("assets/3d_models/Brasil_inteiro.stl",function(n){f=new t.Mesh(n,y);const o={x:-120,y:-60,z:-60};f.position.set(o.x,o.y,o.z),f.scale.set(.25,.25,.25),a.add(f)},n=>{console.log(n.loaded/n.total*100+"% loaded")},n=>{console.log(n)});const w=new t.PointLight(16777215);w.position.set(5,5,5);const E=new t.AmbientLight(16777215);a.add(w,E);function A(){const n=new t.SphereGeometry(.25,24,24),o=new t.MeshStandardMaterial({color:16777215}),s=new t.Mesh(n,o),[r,e,i]=Array(3).fill().map(()=>t.MathUtils.randFloatSpread(200));s.position.set(r,e,i),a.add(s)}Array(300).fill().forEach(A);const _=new t.Color().setHex(466242);a.background=_;const z=new t.TextureLoader().load("./assets/image_files/logo.jpg"),p=new t.Mesh(new t.BoxGeometry(3,3,3),new t.MeshBasicMaterial({map:z}));a.add(p);const P=new t.TextureLoader().load("./assets/image_files/pattern_blue.jpg"),h=new t.Mesh(new t.BoxGeometry(3,3,3),new t.MeshBasicMaterial({map:P}));a.add(h);h.position.z=30;h.position.setX(-10);p.position.z=-5;p.position.x=2;function T(){const n=document.body.getBoundingClientRect().top;h.rotation.x+=.05,h.rotation.y+=.075,h.rotation.z+=.05,p.rotation.y+=.01,p.rotation.z+=.01,d.position.z=n*-.01,d.position.x=n*-2e-4,d.rotation.y=n*-2e-4}document.body.onscroll=T;T();const H="Preparado(a) para transformar mercadorias apreendidas em solu\xE7\xF5es escal\xE1veis?",C="                                                                             ",I=60,O=25,q="header_text",W=new M(q,H,C,I,O,document,window);W.typeWriter();function x(){requestAnimationFrame(x),f.rotation.y+=.01,h.rotation.x+=.005,m.render(a,d)}x();
