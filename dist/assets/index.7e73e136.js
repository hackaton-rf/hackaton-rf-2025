import*as e from"https://unpkg.com/three@0.127.0/build/three.module.js";import{STLLoader as L}from"https://unpkg.com/three@0.127.0/examples/jsm/loaders/STLLoader.js";const M=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}};M();class v{constructor(n,r){const s=n.querySelector("nav"),t=n.querySelectorAll("li"),o=n.querySelectorAll("section"),c=s.offsetTop,y=s.offsetHeight,m=new Map;o.forEach(f=>{m.set(f.getAttribute("id"),f.offsetTop)}),t.forEach(f=>{f.addEventListener("click",()=>{r.scrollTo(0,m.get(f.getAttribute("datascroll"))-y)})}),r.addEventListener("scroll",()=>{r.pageYOffset>=c?s.classList.add("sticky"):s.classList.remove("sticky")})}}class S{constructor(n,r,s,t,o,c){this.elementId=n,this.textToType=r,this.typingSpeed=s,this.domDocument=o,this.windowElement=c,this.timeoutMethod=null,this.iteration=0,this.iterations_offset=t,this.pause=y=>new Promise(m=>setTimeout(m,y))}async typeWriter(){this.textToType&&(console.log(this.textToType.length),console.log(this.iteration),this.iteration<this.textToType.length&&(this.domDocument.getElementById(this.elementId).innerHTML+=this.textToType.charAt(this.iteration),this.iteration++),this.iteration>=this.textToType.length&&this.iteration<this.textToType.length+this.iterations_offset&&this.iteration++,this.iteration>=this.textToType.length+this.iterations_offset&&(await this.pause(10),this.domDocument.getElementById(this.elementId).innerHTML="",this.iteration=0),setTimeout(()=>{this.typeWriter()},this.typingSpeed))}}new v(document,window);const a=new e.Scene,l=new e.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),u=new e.WebGLRenderer({canvas:document.querySelector("#bg")});u.setPixelRatio(window.devicePixelRatio);u.setSize(window.innerWidth,window.innerHeight);l.position.setZ(30);l.position.setX(-3);u.render(a,l);const b=new e.TorusGeometry(10,3,16,100),g=new e.MeshStandardMaterial({color:16737095});let h=new e.Mesh(b,g);const E=new L;E.load("assets/3d_models/Brasil_inteiro.stl",function(i){h=new e.Mesh(i,g);const n={x:-120,y:-60,z:-60};h.position.set(n.x,n.y,n.z),h.scale.set(.25,.25,.25),a.add(h)},i=>{console.log(i.loaded/i.total*100+"% loaded")},i=>{console.log(i)});const w=new e.PointLight(16777215);w.position.set(5,5,5);const _=new e.AmbientLight(16777215);a.add(w,_);function B(){const i=new e.SphereGeometry(.25,24,24),n=new e.MeshStandardMaterial({color:16777215}),r=new e.Mesh(i,n),[s,t,o]=Array(3).fill().map(()=>e.MathUtils.randFloatSpread(200));r.position.set(s,t,o),a.add(r)}Array(300).fill().forEach(B);const z=new e.Color().setHex(466242);a.background=z;const A=new e.TextureLoader().load("./assets/image_files/logo.jpg"),p=new e.Mesh(new e.BoxGeometry(3,3,3),new e.MeshBasicMaterial({map:A}));a.add(p);const P=new e.TextureLoader().load("./assets/image_files/pattern_blue.jpg"),d=new e.Mesh(new e.BoxGeometry(3,3,3),new e.MeshBasicMaterial({map:P}));a.add(d);d.position.z=30;d.position.setX(-10);p.position.z=-5;p.position.x=2;function T(){const i=document.body.getBoundingClientRect().top;d.rotation.x+=.05,d.rotation.y+=.075,d.rotation.z+=.05,p.rotation.y+=.01,p.rotation.z+=.01,l.position.z=i*-.01,l.position.x=i*-2e-4,l.rotation.y=i*-2e-4}document.body.onscroll=T;T();const H="Preparado(a) para transformar mercadorias apreendidas em solu\xE7\xF5es escal\xE1veis?",I=60,O=25,q="header_text",W=new S(q,H,I,O,document,window);W.typeWriter();function x(){requestAnimationFrame(x),h.rotation.y+=.01,d.rotation.x+=.005,u.render(a,l)}x();
